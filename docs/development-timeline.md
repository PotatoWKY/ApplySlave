# 开发工时估算

> 最后更新：2026-02-13
> 假设：1 人全职开发，熟悉 TypeScript / Playwright / LLM 集成

---

## 总览

| 阶段 | 预估工时 | 说明 |
|------|---------|------|
| P0 - 项目基建 | 2 天 | 脚手架、工具链、基础配置 |
| P1 - 浏览器层 | 5 天 | Playwright 封装、DOM 提取、动作执行 |
| P2 - LinkedIn 硬编码入口 | 5 天 | 登录、搜索、筛选、Easy Apply、外部跳转检测 |
| P3 - 智能层 | 6 天 | Ollama 集成、Prompt 工程、表单映射、页面分析 |
| P4 - 编排层 | 4 天 | 状态机、任务队列、重试、结果记录 |
| P5 - 集成联调 | 4 天 | 端到端流程打通、真实网站测试 |
| P6 - 稳定性与体验 | 4 天 | 异常处理、CLI 交互、日志、人工介入机制 |
| **合计** | **约 30 个工作日（6 周）** | |

---

## 详细拆解

### P0 - 项目基建（2 天）

| 任务 | 工时 | 产出 |
|------|------|------|
| TypeScript + Node.js 项目初始化 | 0.5 天 | package.json, tsconfig.json, 目录结构 |
| Playwright + Ollama + pino + commander 依赖配置 | 0.5 天 | 依赖安装，基础 import 验证 |
| 配置文件设计（profile.json, settings.json） | 0.5 天 | JSON schema，示例数据 |
| ConfigManager 实现 | 0.5 天 | 配置加载、校验、默认值 |

---

### P1 - 浏览器层（5 天）

| 任务 | 工时 | 难度 | 说明 |
|------|------|------|------|
| BrowserManager | 1 天 | 中 | Playwright 实例管理、Cookie/Session 持久化、页面生命周期。需要处理 headless/headed 模式切换、浏览器上下文复用 |
| DOMExtractor | 2 天 | 高 | **核心模块**。提取可交互元素并生成结构化描述。难点在于：label 关联（for 属性、嵌套、aria-label）、动态加载元素等待、iframe 内表单处理、shadow DOM |
| ActionExecutor | 1.5 天 | 中 | 原子操作封装（click/fill/select/upload/scroll/wait）。需要处理：文件上传路径、select 下拉框的多种实现（原生 vs 自定义组件）、checkbox/radio 状态切换 |
| ScreenshotCapture | 0.5 天 | 低 | 截图 + 保存，用于调试和可选的多模态 LLM 输入 |

**P1 风险点**：DOMExtractor 的质量直接决定 LLM 能否正确理解页面。自定义下拉框（React Select、Material UI 等）和动态加载表单是主要难点。

---

### P2 - LinkedIn 硬编码入口（5 天）

| 任务 | 工时 | 难度 | 说明 |
|------|------|------|------|
| LinkedIn 登录 | 1 天 | 中 | Cookie 持久化避免重复登录、处理二次验证提示（暂停等用户手动完成） |
| 职位搜索 + 筛选 | 1 天 | 中 | 关键词搜索、地点/经验/时间筛选器操作、结果列表解析 |
| 职位列表翻页 + 遍历 | 0.5 天 | 低 | 滚动加载、分页、去重 |
| Easy Apply 流程 | 1.5 天 | 中高 | 多步表单填写（个人信息、工作经验、附加问题）、简历上传、提交。LinkedIn Easy Apply 有多步 wizard，每步字段不同 |
| 外部 Apply 检测 + 跳转 | 1 天 | 中 | 识别非 Easy Apply 的职位（"Apply" 按钮跳转外部链接），捕获目标 URL，切换到 LLM 通用流程 |

**P2 风险点**：LinkedIn 反自动化检测。需要控制操作速度、随机化延迟、避免短时间大量操作。二次验证（邮箱/手机验证码）只能暂停等用户处理。

---

### P3 - 智能层（6 天）

| 任务 | 工时 | 难度 | 说明 |
|------|------|------|------|
| Ollama 客户端封装 | 0.5 天 | 低 | HTTP API 调用、模型选择、超时处理、响应解析 |
| PromptBuilder | 1.5 天 | 高 | **核心模块**。构建 prompt 模板，包含：页面结构化描述、用户简历数据、操作指令格式约束、few-shot 示例。prompt 质量直接决定 LLM 输出质量 |
| PageAnalyzer | 1 天 | 中 | 页面类型分类（登录/列表/详情/表单/确认/未知）。可以先用规则（URL 模式 + 关键元素检测）做初筛，LLM 做兜底 |
| FormMapper | 2 天 | 高 | **核心模块**。表单字段与简历数据的语义匹配。难点：多语言字段名、模糊匹配（"Years of Experience" vs "工作年限"）、下拉选项的最佳匹配（"3-5 years" 匹配到用户的 3 年经验） |
| DecisionEngine | 1 天 | 中 | 整合 PageAnalyzer + FormMapper 的输出，生成最终操作指令列表。处理置信度阈值、跳过逻辑、人工介入触发 |

**P3 风险点**：Prompt 工程需要大量迭代调优。本地 7B 模型的 JSON 输出稳定性不如云端大模型，需要做输出格式校验和重试。

---

### P4 - 编排层（4 天）

| 任务 | 工时 | 难度 | 说明 |
|------|------|------|------|
| FlowStateMachine | 1.5 天 | 中 | 状态定义、转换规则、事件驱动。需要处理：LinkedIn 内部流程 vs 外部页面流程的切换 |
| JobQueue | 1 天 | 低 | 任务队列管理、优先级、去重、持久化（JSON 文件） |
| RetryHandler | 0.5 天 | 低 | 指数退避、最大重试次数、异常分类（网络错误 vs 页面错误 vs LLM 错误） |
| ResultLogger | 1 天 | 低 | 投递记录持久化、状态更新、统计汇总（成功/失败/跳过） |

---

### P5 - 集成联调（4 天）

| 任务 | 工时 | 说明 |
|------|------|------|
| LinkedIn Easy Apply 端到端测试 | 1 天 | 用真实账号测试完整的搜索→筛选→Easy Apply 流程 |
| 外部 ATS 页面测试 | 2 天 | 测试 Greenhouse、Lever、Workday 等主流 ATS 系统的申请表单 |
| 边界情况处理 | 1 天 | 多步表单、必填字段缺失、文件上传失败、页面超时等 |

**P5 说明**：这个阶段会暴露大量 P1-P4 的问题，实际时间可能超出预估。建议预留缓冲。

---

### P6 - 稳定性与体验（4 天）

| 任务 | 工时 | 说明 |
|------|------|------|
| CLI 交互完善 | 1 天 | commander 命令设计（start/status/resume/config）、进度展示 |
| 日志系统 | 0.5 天 | pino 结构化日志、日志级别、文件输出 |
| 人工介入机制 | 1 天 | 验证码检测暂停、低置信度暂停、桌面通知 |
| 错误处理兜底 | 1 天 | 全局异常捕获、优雅退出、状态保存 |
| 文档 | 0.5 天 | README 使用说明、配置文档 |

---

## 里程碑计划

```
Week 1:  P0 + P1（基建 + 浏览器层）
         ✅ 能启动浏览器、提取页面 DOM、执行基本操作

Week 2:  P2（LinkedIn 硬编码入口）
         ✅ 能自动登录 LinkedIn、搜索职位、完成 Easy Apply

Week 3:  P3（智能层）
         ✅ 能调用本地 LLM 分析页面、匹配表单字段

Week 4:  P4 + P5 前半（编排层 + 开始联调）
         ✅ 状态机驱动完整流程、LinkedIn → 外部页面跳转打通

Week 5:  P5 后半 + P6 前半（联调 + 稳定性）
         ✅ 主流 ATS 系统测试通过、异常处理完善

Week 6:  P6 后半 + 缓冲
         ✅ CLI 完善、文档、最终测试、发布
```

---

## 风险缓冲

| 风险 | 可能影响 | 缓冲建议 |
|------|---------|---------|
| DOMExtractor 在复杂页面上提取不准 | P1 延期 1-2 天 | 先覆盖 80% 常见情况，边角 case 后续迭代 |
| Prompt 工程调优耗时超预期 | P3 延期 1-2 天 | 先用 few-shot 硬编码，后续优化 |
| LinkedIn 反自动化触发 | P2/P5 延期 | 降低操作频率、增加随机延迟、准备多账号 |
| 本地模型 JSON 输出不稳定 | P3/P5 延期 | 加输出格式校验 + 重试，或 fallback 到云端 API |
| 外部 ATS 页面多样性超预期 | P5 延期 1-3 天 | 优先覆盖 Greenhouse + Lever（市占率最高），其他后续 |

**含缓冲的总预估：6-8 周**

---

## MVP 策略（如果想更快出成果）

如果想在 3 周内出一个可用的 MVP：

| 砍掉 | 保留 | 说明 |
|------|------|------|
| 外部 ATS 通用适配 | LinkedIn Easy Apply 全流程 | 先做 AIHawk 能做的事，验证基础架构 |
| 多模态视觉理解 | 纯文本 DOM 提取 | 截图 fallback 后续加 |
| 复杂状态机 | 线性流程 | 搜索→遍历→Easy Apply→下一个 |
| CLI 美化 | 基础命令行 | 能跑就行 |

**MVP 预估：3 周（15 个工作日）**

MVP 验证后，再用 3-5 周补上外部 ATS 通用适配（这才是真正的差异化价值）。
